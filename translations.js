const translations = {
    es: {
        // Navbar
        nav_inicio: "Inicio",
        nav_nosotros: "Nosotros",
        nav_servicios: "Servicios",
        nav_direcciones: "Direcciones",
        nav_cotizar: "Cotizar",
        
        // Hero Section
        hero_badge: "ğŸŒ Operando en 3 Continentes",
        hero_title: "Conectamos tu Negocio con el Mundo",
        hero_title_1: "Conectamos tu Negocio con el",
        hero_title_2: "Mundo",
        hero_subtitle: "Importaciones seguras desde China y USA. VerificaciÃ³n de calidad, gestiÃ³n aduanal y entrega directa en MÃ©xico.",
        hero_calc_btn: "Calcular Costo Ahora",
        hero_quote_btn: "Solicitar CotizaciÃ³n",
        hero_services_btn: "Ver Servicios",
        hero_stat_experience: "AÃ±os de Experiencia",
        hero_stat_clients: "Clientes Satisfechos",
        hero_stat_offices: "Oficinas Globales",
        
        // Why THM Section
        why_title_badge: "Â¿Por QuÃ© THM Commerce?",
        why_title: "Tu Socio EstratÃ©gico en Importaciones",
        why_subtitle: "Simplificamos el comercio internacional para que puedas enfocarte en hacer crecer tu negocio",
        why_card1_title: "Servicio Integral",
        why_card1_desc: "Desde la verificaciÃ³n en fÃ¡brica hasta la entrega en tu puerta",
        why_card1_link: "Ver servicios â†’",
        why_card2_title: "Presencia Global",
        why_card2_desc: "Oficinas en MÃ©xico, USA y China para estar cerca de ti",
        why_card2_link: "Ver ubicaciones â†’",
        why_card3_title: "Confianza Total",
        why_card3_desc: "MÃ¡s de 15 aÃ±os de experiencia y 500+ clientes satisfechos",
        why_card3_link: "Conoce mÃ¡s â†’",
        
        // Services Section
        services_badge: "Servicios Destacados",
        services_title: "Explora Nuestras Soluciones",
        services_subtitle: "Servicios especializados para cada tipo de importaciÃ³n",
        services_heavy: "Carga Pesada",
        services_consolidated: "ImportaciÃ³n Consolidada",
        services_air: "EnvÃ­os AÃ©reos",
        services_verification: "VerificaciÃ³n en China",
        services_maritime: "EnvÃ­os MarÃ­timos",
        services_link: "Ver mÃ¡s â†’",
        services_all_btn: "Ver Todos los Servicios",
        
        // Certifications
        cert_iso: "ISO 9001:2015",
        cert_iso_desc: "CertificaciÃ³n de Calidad",
        cert_ctpat: "C-TPAT",
        cert_ctpat_desc: "Seguridad Aduanal",
        cert_oea: "OEA Certificado",
        cert_oea_desc: "Operador EconÃ³mico Autorizado",
        cert_rating: "4.9/5.0",
        cert_rating_desc: "CalificaciÃ³n Clientes",
        
        // Success Cases
        cases_badge: "Casos de Ã‰xito",
        cases_title: "Resultados Reales de Nuestros Clientes",
        cases_subtitle: "Empresas que confiaron en nosotros y transformaron su cadena de suministro",
        
        // Benefits Section
        benefits_badge: "Por QuÃ© Elegirnos",
        benefits_title: "Tu Socio Confiable en Importaciones",
        benefits_subtitle: "MÃ¡s de 15 aÃ±os conectando empresas mexicanas con proveedores globales",
        benefit1_title: "Ahorra hasta 40%",
        benefit1_desc: "Precios directos de fÃ¡brica sin intermediarios",
        benefit2_title: "Entrega RÃ¡pida",
        benefit2_desc: "5-7 dÃ­as vÃ­a aÃ©rea desde China",
        benefit3_title: "100% Seguro",
        benefit3_desc: "Seguro de carga y garantÃ­a de calidad",
        benefit4_title: "Factura Nacional",
        benefit4_desc: "CFDI 4.0 deducible de impuestos",
        
        // Process Section
        process_title: "Desde China hasta tu Casa",
        process_desc: "Somos expertos en importar desde China a MÃ©xico. Te acompaÃ±amos en todo el proceso sin riesgos ni complicaciones.",
        process_step1_title: "VerificaciÃ³n de FÃ¡bricas",
        process_step1_desc: "Inspeccionamos proveedores antes de que hagas tu pedido",
        process_step2_title: "GestiÃ³n Aduanal Completa",
        process_step2_desc: "Nos encargamos de toda la documentaciÃ³n y trÃ¡mites",
        process_step3_title: "Entrega Puerta a Puerta",
        process_step3_desc: "Recibe tu mercancÃ­a directamente en tu almacÃ©n",
        
        // Testimonials
        testimonials_title: "Lo Que Dicen Nuestros Clientes",
        testimonials_subtitle: "MÃ¡s de 500 empresas confÃ­an en nosotros",
        
        // Stats
        stats_clients: "Clientes Satisfechos",
        stats_experience: "AÃ±os de Experiencia",
        stats_shipments: "EnvÃ­os Realizados",
        stats_satisfaction: "SatisfacciÃ³n del Cliente",
        
        // Footer
        footer_services: "Servicios",
        footer_company: "Empresa",
        footer_contact: "Contacto",
        footer_rights: "Todos los derechos reservados.",
        
        // Nosotros Page
        about_badge: "QuiÃ©nes Somos",
        about_title: "Conectando Negocios, Construyendo Confianza",
        about_subtitle: "MÃ¡s de 15 aÃ±os facilitando el comercio internacional entre MÃ©xico, Estados Unidos y China.",
        about_history_badge: "Nuestra Historia",
        about_history_title: "Una Trayectoria de Ã‰xito",
        about_values_badge: "Nuestros Valores",
        about_values_title: "Lo Que Nos Define",
        about_values_subtitle: "Principios que guÃ­an cada decisiÃ³n y acciÃ³n en THM Commerce",
        about_mission_vision_badge: "Nuestra MisiÃ³n y VisiÃ³n",
        about_mission_vision_title: "Hacia DÃ³nde Vamos",
        about_mission_title: "MisiÃ³n",
        about_vision_title: "VisiÃ³n",
        about_team_title: "Nuestro Equipo",
        about_team_subtitle: "Profesionales dedicados con experiencia en comercio internacional, logÃ­stica y atenciÃ³n al cliente",
        about_cta_title: "Â¿Listo para Trabajar con Nosotros?",
        about_cta_subtitle: "Ãšnete a las mÃ¡s de 500 empresas que confÃ­an en THM Commerce para sus importaciones",
        
        // Servicios Page
        services_page_badge: "Nuestros Servicios",
        services_page_title: "Soluciones Completas de LogÃ­stica",
        services_page_subtitle: "Desde la verificaciÃ³n en origen hasta la entrega en tu puerta, te acompaÃ±amos en cada paso del proceso de importaciÃ³n.",
        services_faq_title: "Preguntas Frecuentes",
        services_faq_subtitle: "Respuestas a las dudas mÃ¡s comunes sobre nuestros servicios",
        services_guarantees_title: "GarantÃ­as y Certificaciones",
        services_cta_title: "Â¿Listo para Importar?",
        services_cta_subtitle: "Solicita una cotizaciÃ³n sin compromiso y descubre cÃ³mo podemos ayudarte a crecer tu negocio.",
        
        // Direcciones Page
        locations_badge: "Nuestras Oficinas",
        locations_title: "Presencia Global",
        locations_subtitle: "Con oficinas estratÃ©gicamente ubicadas en MÃ©xico, Estados Unidos y China, estamos cerca de ti en cada paso del proceso.",
        locations_coverage_title: "Cobertura de Servicios",
        locations_coverage_subtitle: "Operamos en las principales rutas comerciales del mundo",
        locations_cta_title: "Â¿Necesitas AsesorÃ­a Personalizada?",
        locations_cta_subtitle: "Nuestro equipo de expertos estÃ¡ disponible para atender tus consultas y brindarte la mejor asesorÃ­a en logÃ­stica internacional.",
        
        // Cotizaciones Page
        quote_badge: "Solicita tu CotizaciÃ³n",
        quote_title: "Comienza a Importar Hoy",
        quote_subtitle: "Completa el formulario y recibe una cotizaciÃ³n personalizada en menos de 24 horas.",
        quote_process_title: "Proceso de CotizaciÃ³n",
        quote_process_subtitle: "Simple, rÃ¡pido y transparente",
        
        // Calculator Modal
        calc_title: "Calculadora de Costos",
        calc_subtitle: "ObtÃ©n una estimaciÃ³n instantÃ¡nea de tu envÃ­o",
        calc_origin: "PaÃ­s de Origen",
        calc_origin_china: "China",
        calc_origin_usa: "Estados Unidos",
        calc_weight: "Peso (kg)",
        calc_volume: "Volumen (mÂ³)",
        calc_btn: "Calcular Costos",
        calc_disclaimer: "* EstimaciÃ³n basada en tarifas promedio. CotizaciÃ³n oficial puede variar."
    },
    
    en: {
        // Navbar
        nav_inicio: "Home",
        nav_nosotros: "About Us",
        nav_servicios: "Services",
        nav_direcciones: "Locations",
        nav_cotizar: "Get Quote",
        
        // Hero Section
        hero_badge: "ğŸŒ Operating in 3 Continents",
        hero_title: "Connecting Your Business with the World",
        hero_title_1: "Connecting Your Business with the",
        hero_title_2: "World",
        hero_subtitle: "Safe imports from China and USA. Quality verification, customs management and direct delivery in Mexico.",
        hero_calc_btn: "Calculate Cost Now",
        hero_quote_btn: "Request Quote",
        hero_services_btn: "View Services",
        hero_stat_experience: "Years of Experience",
        hero_stat_clients: "Satisfied Clients",
        hero_stat_offices: "Global Offices",
        
        // Why THM Section
        why_title_badge: "Why THM Commerce?",
        why_title: "Your Strategic Partner in Imports",
        why_subtitle: "We simplify international trade so you can focus on growing your business",
        why_card1_title: "Comprehensive Service",
        why_card1_desc: "From factory verification to delivery at your door",
        why_card1_link: "View services â†’",
        why_card2_title: "Global Presence",
        why_card2_desc: "Offices in Mexico, USA and China to be close to you",
        why_card2_link: "View locations â†’",
        why_card3_title: "Total Trust",
        why_card3_desc: "Over 15 years of experience and 500+ satisfied clients",
        why_card3_link: "Learn more â†’",
        
        // Services Section
        services_badge: "Featured Services",
        services_title: "Explore Our Solutions",
        services_subtitle: "Specialized services for every type of import",
        services_heavy: "Heavy Cargo",
        services_consolidated: "Consolidated Import",
        services_air: "Air Shipments",
        services_verification: "Verification in China",
        services_maritime: "Maritime Shipments",
        services_link: "Learn more â†’",
        services_all_btn: "View All Services",
        
        // Certifications
        cert_iso: "ISO 9001:2015",
        cert_iso_desc: "Quality Certification",
        cert_ctpat: "C-TPAT",
        cert_ctpat_desc: "Customs Security",
        cert_oea: "AEO Certified",
        cert_oea_desc: "Authorized Economic Operator",
        cert_rating: "4.9/5.0",
        cert_rating_desc: "Client Rating",
        
        // Success Cases
        cases_badge: "Success Stories",
        cases_title: "Real Results from Our Clients",
        cases_subtitle: "Companies that trusted us and transformed their supply chain",
        
        // Benefits Section
        benefits_badge: "Why Choose Us",
        benefits_title: "Your Reliable Import Partner",
        benefits_subtitle: "Over 15 years connecting Mexican companies with global suppliers",
        benefit1_title: "Save up to 40%",
        benefit1_desc: "Direct factory prices without intermediaries",
        benefit2_title: "Fast Delivery",
        benefit2_desc: "5-7 days by air from China",
        benefit3_title: "100% Secure",
        benefit3_desc: "Cargo insurance and quality guarantee",
        benefit4_title: "Local Invoice",
        benefit4_desc: "Tax-deductible CFDI 4.0",
        
        // Process Section
        process_title: "From China to Your Doorstep",
        process_desc: "We are experts in importing from China to Mexico. We accompany you throughout the process without risks or complications.",
        process_step1_title: "Factory Verification",
        process_step1_desc: "We inspect suppliers before you place your order",
        process_step2_title: "Complete Customs Management",
        process_step2_desc: "We handle all documentation and procedures",
        process_step3_title: "Door-to-Door Delivery",
        process_step3_desc: "Receive your merchandise directly at your warehouse",
        
        // Testimonials
        testimonials_title: "What Our Clients Say",
        testimonials_subtitle: "Over 500 companies trust us",
        
        // Stats
        stats_clients: "Satisfied Clients",
        stats_experience: "Years of Experience",
        stats_shipments: "Shipments Completed",
        stats_satisfaction: "Client Satisfaction",
        
        // Footer
        footer_services: "Services",
        footer_company: "Company",
        footer_contact: "Contact",
        footer_rights: "All rights reserved.",
        
        // Nosotros Page
        about_badge: "Who We Are",
        about_title: "Connecting Businesses, Building Trust",
        about_subtitle: "Over 15 years facilitating international trade between Mexico, United States and China.",
        about_history_badge: "Our History",
        about_history_title: "A Success Story",
        about_values_badge: "Our Values",
        about_values_title: "What Defines Us",
        about_values_subtitle: "Principles that guide every decision and action at THM Commerce",
        about_mission_vision_badge: "Our Mission and Vision",
        about_mission_vision_title: "Where We're Going",
        about_mission_title: "Mission",
        about_vision_title: "Vision",
        about_team_title: "Our Team",
        about_team_subtitle: "Dedicated professionals with experience in international trade, logistics and customer service",
        about_cta_title: "Ready to Work with Us?",
        about_cta_subtitle: "Join the over 500 companies that trust THM Commerce for their imports",
        
        // Servicios Page
        services_page_badge: "Our Services",
        services_page_title: "Complete Logistics Solutions",
        services_page_subtitle: "From verification at origin to delivery at your door, we accompany you every step of the import process.",
        services_faq_title: "Frequently Asked Questions",
        services_faq_subtitle: "Answers to the most common questions about our services",
        services_guarantees_title: "Guarantees and Certifications",
        services_cta_title: "Ready to Import?",
        services_cta_subtitle: "Request a quote without commitment and discover how we can help you grow your business.",
        
        // Direcciones Page
        locations_badge: "Our Offices",
        locations_title: "Global Presence",
        locations_subtitle: "With strategically located offices in Mexico, United States and China, we are close to you every step of the way.",
        locations_coverage_title: "Service Coverage",
        locations_coverage_subtitle: "We operate on the world's main trade routes",
        locations_cta_title: "Need Personalized Advice?",
        locations_cta_subtitle: "Our team of experts is available to answer your questions and provide you with the best advice in international logistics.",
        
        // Cotizaciones Page
        quote_badge: "Request Your Quote",
        quote_title: "Start Importing Today",
        quote_subtitle: "Complete the form and receive a personalized quote in less than 24 hours.",
        quote_process_title: "Quote Process",
        quote_process_subtitle: "Simple, fast and transparent",
        
        // Calculator Modal
        calc_title: "Cost Calculator",
        calc_subtitle: "Get an instant estimate for your shipment",
        calc_origin: "Country of Origin",
        calc_origin_china: "China",
        calc_origin_usa: "United States",
        calc_weight: "Weight (kg)",
        calc_volume: "Volume (mÂ³)",
        calc_btn: "Calculate Costs",
        calc_disclaimer: "* Estimate based on average rates. Official quote may vary."
    }
};

// Sistema de internacionalizaciÃ³n
class I18n {
    constructor() {
        this.currentLang = localStorage.getItem('thmLang') || 'es';
        this.translations = translations;
    }
    
    setLanguage(lang) {
        if (!this.translations[lang]) {
            console.warn(`Idioma ${lang} no disponible`);
            return;
        }
        this.currentLang = lang;
        localStorage.setItem('thmLang', lang);
        this.applyTranslations();
        this.updateLanguageSelector();
    }
    
    translate(key) {
        return this.translations[this.currentLang][key] || key;
    }
    
    applyTranslations() {
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translation = this.translate(key);
            
            // Verificar si hay ediciones manuales del editor visual
            const hasManualEdit = element.hasAttribute('data-manual-edit');
            
            if (hasManualEdit) {
                // No sobreescribir ediciones manuales
                console.log(`âš ï¸ Respetando ediciÃ³n manual en elemento con i18n="${key}"`);
                return;
            }
            
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translation;
            } else if (element.tagName === 'OPTION') {
                element.textContent = translation;
            } else {
                // Para elementos con HTML interno, preservar la estructura
                if (element.children.length > 0) {
                    // Si tiene hijos, reemplazar solo los nodos de texto
                    const walker = document.createTreeWalker(
                        element,
                        NodeFilter.SHOW_TEXT,
                        null,
                        false
                    );
                    
                    let textContent = '';
                    let node;
                    while (node = walker.nextNode()) {
                        textContent += node.textContent.trim() + ' ';
                    }
                    
                    // Si el contenido de texto coincide aproximadamente, reemplazar
                    if (textContent.trim()) {
                        element.innerHTML = translation;
                    }
                } else {
                    element.textContent = translation;
                }
            }
        });
    }
    
    updateLanguageSelector() {
        const selector = document.getElementById('lang-selector');
        if (selector) {
            selector.value = this.currentLang;
        }
        
        // Actualizar banderas en botones
        document.querySelectorAll('[data-lang]').forEach(btn => {
            if (btn.getAttribute('data-lang') === this.currentLang) {
                btn.classList.add('active');
            } else {
                btn.classList.remove('active');
            }
        });
    }
    
    init() {
        this.applyTranslations();
        this.updateLanguageSelector();
    }
}

// Instancia global
const i18n = new I18n();

// Inicializar cuando el DOM estÃ© listo
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => i18n.init());
} else {
    i18n.init();
}
